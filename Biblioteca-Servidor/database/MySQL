-- Tabla de Roles
CREATE TABLE roles (
    ID_ROL INT PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(50) NOT NULL,
    ESTADO INT
);

-- Tabla de Géneros
CREATE TABLE generos (
    ID_GENERO INT PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(50) NOT NULL,
    ESTADO INT
);


-- Tabla de Usuarios
CREATE TABLE usuarios (
    ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(100) NOT NULL,
    APELLIDO VARCHAR(100) NOT NULL,
    CORREO VARCHAR(150) UNIQUE NOT NULL,
    CONTRASENA VARCHAR(255) NOT NULL,
    ESTADO INT,
    ID_ROL INT,
    ID_GENERO INT,
    TELEFONO VARCHAR(20),
    FECHA_REGISTRO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (ID_ROL) REFERENCES roles(ID_ROL),
    FOREIGN KEY (ID_GENERO) REFERENCES generos(ID_GENERO)
);


-- Tabla de Historial de Inicio de Sesión
CREATE TABLE historial_inicio_sesion (
    ID_HISTORIAL INT PRIMARY KEY AUTO_INCREMENT,
    ID_USUARIO INT,
    FECHA_HORA TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    IP VARCHAR(45),
    DISPOSITIVO VARCHAR(100),
    FOREIGN KEY (ID_USUARIO) REFERENCES usuarios(ID_USUARIO)
);